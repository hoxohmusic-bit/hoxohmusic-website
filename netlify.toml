[build]
  # Definiert den Ordner, in dem die Serverless Functions liegen
  functions = "netlify/functions"
  # Optional: Wenn Ihr Hauptordner der Ver√∂ffentlichungs-Ordner ist, k√∂nnen Sie dies weglassen.
  # publish = "/" 

[build.environment]
  # Stellt sicher, dass die korrekte Node-Version f√ºr die Funktionen verwendet wird
  NODE_VERSION = "20"

# üõ†Ô∏è WICHTIGE L√ñSUNG: B√ºndelt das Logo-Asset mit der Funktion
# Die Funktion music_order.js kann nun das Logo aus dem assets-Ordner lesen.
[functions]
  included_files = ["netlify/functions/assets/**"]

# ----------------------------------------------------------------------
# HEADERS (√úbernommen aus Ihrer vorherigen Konfiguration)
# ----------------------------------------------------------------------

# Standard-Header f√ºr HTML-Dateien
[[headers]]
  for = "/*.html"
  [headers.values]
    Content-Type = "text/html; charset=utf-8"

# CORS-Header f√ºr die Contact-Funktion
[[headers]]
  for = "/.netlify/functions/contact"
  [headers.values]
    Access-Control-Allow-Origin = "*"
    Access-Control-Allow-Methods = "POST, OPTIONS"
    Access-Control-Allow-Headers = "Content-Type"

# ----------------------------------------------------------------------
# REDIRECTS (√úbernommen aus Ihrer vorherigen Konfiguration)
# ----------------------------------------------------------------------

# Hauptseiten-Umleitungen
[[redirects]]
  from = "/en"
  to = "/index-en.html"
  status = 301

[[redirects]]
  from = "/en/"
  to = "/index-en.html"
  status = 301

[[redirects]]
  from = "/de"
  to = "/index-de.html"
  status = 301

[[redirects]]
  from = "/de/"
  to = "/index-de.html"
  status = 301

[[redirects]]
  from = "/en/index-en.html"
  to = "/index-en.html"
  status = 301

[[redirects]]
  from = "/de/index-de.html"
  to = "/index-de.html"
  status = 301

# Album-Umleitungen
[[redirects]]
  from = "/en/albums"
  to = "/albums-en.html"
  status = 301

[[redirects]]
  from = "/de/albums"
  to = "/albums-de.html"
  status = 301

[[redirects]]
  from = "/en/album-el-laberinto-de-los-suenos"
  to = "/album-el-laberinto-de-los-suenos-en.html"
  status = 301

[[redirects]]
  from = "/de/album-el-laberinto-de-los-suenos"
  to = "/album-el-laberinto-de-los-suenos-de.html"
  status = 301

# Kontakt-Umleitungen
[[redirects]]
  from = "/en/contact"
  to = "/kontakt-en.html"
  status = 301

[[redirects]]
  from = "/de/contact"
  to = "/kontakt-de.html"
  status = 301

[[redirects]]
  from = "/en/kontakt"
  to = "/kontakt-en.html"
  status = 301

[[redirects]]
  from = "/de/kontakt"
  to = "/kontakt-de.html"
  status = 301

# Standard-Fallback f√ºr die Hauptseite
[[redirects]]
  from = "/"
  to = "/index.html"
  status = 200