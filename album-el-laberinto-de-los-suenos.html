<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>EL LABERINTO DE LOS SUEÑOS — HOXOH MUSIC</title>
<meta content="Álbum EL LABERINTO DE LOS SUEÑOS de HOXOH." name="description"/>
<meta content="EL LABERINTO DE LOS SUEÑOS — HOXOH MUSIC" property="og:title"/>
<meta content="Álbum EL LABERINTO DE LOS SUEÑOS de HOXOH." property="og:description"/>
<meta content="website" property="og:type"/>
<meta content="assets/covers/EL LABERINTO DE LOS SUEÑOS.jpg" property="og:image"/>
<meta content="#0b0b0b" name="theme-color"/>
<!-- Favicons -->
<link href="assets/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/>
<link href="assets/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/>
<link href="assets/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/>
<link href="assets/favicon/site.webmanifest" rel="manifest"/>
<link href="assets/favicon/favicon.ico" rel="icon" type="image/x-icon"/>
<!-- Globale Styles -->
<link href="style.css" rel="stylesheet"/>
<!-- Seitenspezifische Styles -->
<style>
    .album-detail{
      display:grid;
      grid-template-columns: 520px 1fr;
      gap:36px;
      align-items:start;
      margin:28px auto 34px;
      max-width:1200px;
      padding:0 22px;
    }
    .album-detail .left-col .cover{
      width:100%; height:auto; display:block;
      border-radius:14px; box-shadow:var(--shadow);
    }

    /* Provider-Kacheln: 5 nebeneinander in einer Reihe, große Icons */
    .album-detail .left-col .streaming-grid{
      width:100%; margin-top:18px;
      display:grid; grid-template-columns:repeat(5, 1fr); gap:12px;
    }
    .album-detail .provider-tile{
      background:#1c2026; border:1px solid rgba(255,255,255,.08);
      border-radius:12px; aspect-ratio:1/1;
      display:grid; place-items:center; text-decoration:none;
      box-shadow:inset 0 0 0 1px rgba(255,255,255,.03);
    }
    .album-detail .provider-tile img{ 
      width:95% !important; 
      height:auto !important; 
      display:block !important; 
      max-width:95% !important;
    }

    .album-detail .left-col .intro{
      margin-top:16px; color:#cdd6dd; line-height:1.55;
    }

    .album-detail h1{
      margin:0 0 12px; font-size:32px; font-weight:900; letter-spacing:.02em;
    }
    .album-detail .meta-row{
      display:flex; align-items:center; gap:10px; margin:0 0 12px;
    }
    .album-detail .pill{
      background:#20242a; color:#a6b0b8;
      height:32px; padding:0 14px; border-radius:999px;
      display:inline-flex; align-items:center; font-size:14px; white-space:nowrap;
    }
    .album-detail .pill.explicit{ font-weight:800; letter-spacing:.06em; }

    .album-detail .tracklist{ list-style:none; margin:0; padding:0; display:grid; gap:12px; }
    .album-detail .track{
      background:#1a1e23; border:1px solid #262c34; color:#e6edf3;
      border-radius:14px; padding:12px 12px 12px 16px;
      display:grid; grid-template-columns: 2fr 1fr; gap:12px; align-items:center;
    }
    .album-detail .t-left{ display:flex; align-items:center; gap:10px; min-width:0; }
    .album-detail .t-left .no{
      flex:0 0 auto; font-weight:800; color:#dce6ee; width:40px; text-align:left;
    }
    .album-detail .t-left .name{
      min-width:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
      letter-spacing:.01em;
    }
    .album-detail .t-left .explicit-chip{
      margin-left:8px;
      height:22px; padding:0 9px;
      display:inline-flex; align-items:center;
      border-radius:999px; font-size:12px;
      background:#20242a; color:#cfd7df;
      border:1px solid rgba(255,255,255,.1);
      white-space:nowrap;
    }

    .album-detail .t-audio audio{ width:100%; display:block; }
    .album-detail .back{
      display:inline-block; margin-top:18px;
      background:#19c37d; color:#05261b; font-weight:800;
      padding:10px 16px; border-radius:12px; text-decoration:none;
    }

    .site-header .brand img{ height:42px; width:auto; display:block; }

    @media (max-width: 900px){
      .album-detail{ grid-template-columns:1fr; }
    }
    @media (max-width: 760px){
      .album-detail .track{ grid-template-columns:1fr; }
      .album-detail .t-left .no{ width:auto; }
    }
    @media (max-width: 620px){
      .album-detail .left-col .streaming-grid{ grid-template-columns:repeat(3,1fr); }
    }

    /* PARADOX TRACK - Enhanced Book Integration */
    .paradox-track {
      position: relative;
      border: 2px solid transparent;
      background: linear-gradient(#1a1e23, #1a1e23) padding-box, 
                  linear-gradient(45deg, #d4af37, #cd853f, #daa520) border-box;
      transition: all 0.3s ease;
    }
    
    .paradox-track:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(212, 175, 55, 0.2);
    }

    .track-info {
      display: flex;
      flex-direction: column;
      gap: 6px;
      min-width: 0;
    }

    .book-reference {
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .book-pill {
      background: #2a2e35;
      color: #d4af37;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid rgba(212, 175, 55, 0.3);
      white-space: nowrap;
    }

    .book-link {
      color: #d4af37;
      text-decoration: none;
      font-weight: 600;
      font-size: 12px;
      border-bottom: 1px solid transparent;
      transition: all 0.3s ease;
      white-space: nowrap;
    }

    .book-link:hover {
      color: #daa520;
      border-bottom-color: #d4af37;
      text-shadow: 0 0 8px rgba(212, 175, 55, 0.5);
    }

    /* VISUAL PARADOX EFFECTS */
    .paradox-mode {
      background: 
        radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(205, 133, 63, 0.1) 0%, transparent 50%) !important;
    }

    .paradox-mode .paradox-track {
      animation: paradoxPulse 4s ease-in-out infinite;
    }

    @keyframes paradoxPulse {
      0%, 100% { border-color: transparent; }
      25% { border-color: rgba(212, 175, 55, 0.5); }
      50% { border-color: rgba(205, 133, 63, 0.5); }
      75% { border-color: rgba(218, 165, 32, 0.5); }
    }

    /* HERMANN GRID ILLUSION */
    .hermann-grid {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      opacity: 0;
      z-index: 10;
      background-image: 
        linear-gradient(90deg, transparent 85%, rgba(212, 175, 55, 0.15) 85%, rgba(212, 175, 55, 0.15) 100%),
        linear-gradient(0deg, transparent 85%, rgba(212, 175, 55, 0.15) 85%, rgba(212, 175, 55, 0.15) 100%);
      background-size: 40px 40px;
      transition: opacity 1s ease;
    }

    body.paradox-active .hermann-grid {
      opacity: 1;
    }

    /* FLOATING BOOK COVER - Local Image */
    .book-cover-float {
      position: fixed;
      top: 50%;
      right: -200px;
      width: 120px;
      height: 160px;
      background-image: url('assets/covers/paradoxe-book-cover.jpg');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      border: 2px solid #FFD700;
      border-radius: 8px;
      box-shadow: 0 15px 35px rgba(0,0,0,0.6);
      transition: right 0.8s ease;
      z-index: 1000;
      cursor: pointer;
      transform: translateY(-50%);
    }

    body.paradox-active .book-cover-float {
      right: 20px;
    }

    .book-cover-float:hover {
      transform: translateY(-50%) scale(1.05);
      box-shadow: 0 20px 40px rgba(255, 215, 0, 0.4);
      border-color: #FFA500;
    }

    .book-cover-float::after {
      content: "¡Clic para Amazon!";
      position: absolute;
      bottom: -25px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.9);
      color: #FFD700;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 11px;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .book-cover-float:hover::after {
      opacity: 1;
    }
  </style>
</head>
<body>
<header class="site-header">
<div class="container header-inner">
<a aria-label="HOXOH MUSIC" class="brand" href="index.html">
<img alt="HOXOH MUSIC" height="62" src="assets/logo/hoxoh-music-header-239x62.png" srcset="assets/logo/hoxoh-music-header-239x62.png 1x,
                  assets/logo/hoxoh-music-header-478x124.png 2x" width="239"/>
</a>
<nav aria-label="Navegación principal" class="main-nav">
<a class="nav-link" href="index.html">Inicio</a>
<a class="nav-link active" href="albums.html">Álbumes</a>
<a class="nav-link" href="kontakt.html">Contacto</a>
</nav>
<div class="lang" id="lang">
<button aria-expanded="false" aria-haspopup="listbox" class="lang-btn" type="button">ES ▾</button>
<ul aria-label="Idiomas" class="lang-menu" role="listbox">
<li><a class="active-lang" href="album-el-laberinto-de-los-suenos.html" hreflang="es">ES</a></li>
<li><a href="album-el-laberinto-de-los-suenos-en.html" hreflang="en">EN</a></li>
<li><a href="album-el-laberinto-de-los-suenos-de.html" hreflang="de">DE</a></li>
</ul>
</div>
</div>
</header>
<main>
<article class="album-detail">
<div class="left-col">
<img alt="EL LABERINTO DE LOS SUEÑOS cover" class="cover" loading="lazy" src="assets/covers/album-el-%20-laberinto-de-los-sue%C3%B1os-cover.jpg"/>
<div aria-label="Plataformas de streaming" class="streaming-grid">
<a aria-label="Spotify" class="provider-tile" href="#" target="_blank" rel="noopener">
<img alt="" src="assets/provider_icons/spotify-icon.png">
</img></a>
<a aria-label="Apple Music" class="provider-tile" href="#" target="_blank" rel="noopener">
<img alt="" src="assets/provider_icons/apple-music-icon.png"/>
</a>
<a aria-label="YouTube Music" class="provider-tile" href="#" target="_blank" rel="noopener">
<img alt="" src="assets/provider_icons/youtube-music-icon.png"/>
</a>
<a aria-label="TIDAL" class="provider-tile" href="#" target="_blank" rel="noopener">
<img alt="" src="assets/provider_icons/tidal-icon.png"/>
</a>
<a aria-label="Amazon Music" class="provider-tile" href="#" target="_blank">
<img alt="" src="assets/provider_icons/amazon-music-icon1.png"/>
</a>
</div>
<div class="intro">
<p style="text-align:justify;">
            Adéntrate en un universo sonoro donde la realidad y los sueños se entrelazan en espirales imposibles. <b>HOXOH — EL LABERINTO DE LOS SUEÑOS</b> es una odisea musical de 10 pistas que desafía los límites de la percepción y transporta al oyente a través de paisajes sonoros ancestrales y futuristas. Este álbum fusiona Dark Techno y Trance con instrumentos arcaicos como didgeridoos, flautas de hueso y percusiones tribales, creando una experiencia inmersiva única con tecnología de audio 16D.
          </p>
<p style="text-align:justify;">
            Cada track es una ilusión acústica cuidadosamente construida: desde la misteriosa apertura en <b>"PUERTA DE SOMBRAS"</b> hasta la revelación final en <b>"LUZ AL FINAL"</b>. El viaje atraviesa ecos ancestrales, rituales de fuego, susurros laberínticos y paradojas de la mente. Los elementos se posicionan en espacios imposibles, las voces orbitan en patrones circulares y los sonidos desafían las leyes de la física acústica. Es un laberinto donde cada esquina revela nuevas dimensiones sónicas, donde lo imposible suena y la ilusión gobierna como un dios. ¿Estás listo para perderte en los sueños?
          </p>
</div>
</div>
<div class="right-col">
<h1>EL LABERINTO DE LOS SUEÑOS</h1>
<div class="meta-row" id="meta-row">
<span class="pill" id="year-pill">14.11.2025</span>
<span class="pill" id="genre-pill">Género: <strong style="font-weight:700;margin-left:6px;">Dark Techno / Trance</strong></span>
</div>
<ol class="tracklist" id="tracklist">
  <li class="track">
    <div class="t-left"><span class="no">01.</span><span class="name">PUERTA DE SOMBRAS</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/01_-_puerta_de_sombras_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">02.</span><span class="name">ECOS ANCESTRALES</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/02_-_ecos_ancestrales_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">03.</span><span class="name">RITUAL DE LAS LLAMAS</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/03_-_ritual_de_las_llamas_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">04.</span><span class="name">SUSURROS DEL LABERINTO</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/04_-_susurros_del_laberinto_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
<li class="track paradox-track" id="track-paradox">
<div class="t-left">
<span class="no">05.</span>
<div class="track-info">
<span class="name">PARADOXE — LA MENTE ILUSIONADA</span>
<div class="book-reference">
<span class="book-pill">📖 Según el libro</span>
<a class="book-link" href="https://www.amazon.com/-/es/PARADOXE-ILUSIONADA-ENGA%C3%91OS-DESAF%C3%8DAN-CEREBRO/dp/B0FF4X4KQQ" rel="noopener" target="_blank">
                    "PARADOXE" de Finn Wolkenbaum
                  </a>
</div>
</div>
</div>
<div class="t-audio">
<audio crossorigin="anonymous" controls="" id="paradox-audio" preload="none">
<source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/05_-_paradoxe_la_mente_ilusionada_preview.mp3" type="audio/mpeg"/>
</audio>
</div>
</li>
<li class="track">
    <div class="t-left"><span class="no">06.</span><span class="name">EL VIENTO DE LOS HUESOS</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/06_-_el_viento_de_los_huesos_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">07.</span><span class="name">DANZA DE LOS ESPIRITUS</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/07_-_danza_de_los_espiritus_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">08.</span><span class="name">ABISMO SAGRADO</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/08_-_abismo_sagrado_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">09.</span><span class="name">GUARDIANES DEL SONIDO</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/09_-_guardianes_del_sonido_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
  <li class="track">
    <div class="t-left"><span class="no">10.</span><span class="name">LUZ AL FINAL</span></div>
    <div class="t-audio">
     <audio crossorigin="anonymous" controls preload="none">
        <source src="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/previews/el_laberinto_de_los_suenos/10_-_luz_al_final_preview.mp3" type="audio/mpeg">
      </audio>
    </div>
  </li>
</ol>
<p><a class="back" href="albums.html">← Volver a todos los álbumes</a></p>
</div>
</article>
</main>
<footer class="site-footer">
<div class="container footer-inner">
<div>© HOXOH MUSIC 2025</div>
<div class="legal">
<a class="chip" href="impressum.html">Aviso Legal</a>
<a class="chip" href="datenschutz.html">Privacidad</a>
<a class="chip" href="cookies.html">Cookies</a>
<a class="chip" href="explizit.html">Contenido Explícito</a>
<a class="chip" href="agb.html">Términos</a>
</div>
</div>
</footer>
<script>
    (function(){
      const lang = document.getElementById('lang');
      if(!lang) return;
      const btn = lang.querySelector('.lang-btn');
      btn.addEventListener('click', (e) => {
        e.stopPropagation();
        lang.classList.toggle('open');
        btn.setAttribute('aria-expanded', lang.classList.contains('open'));
      });
      document.addEventListener('click', (e) => {
        if(!lang.contains(e.target)){
          lang.classList.remove('open');
          btn.setAttribute('aria-expanded','false');
        }
      });
    })();
  </script>
<!-- PARADOX INTERACTIVE EFFECTS -->
<div class="hermann-grid"></div>
<div class="book-cover-float" id="bookFloat"></div>
<script>
    // IMPROVED AUDIO PLAYER MANAGEMENT with Stall Protection
    (function(){
      const audios = Array.from(document.querySelectorAll('audio'));
      if(!audios.length) return;

      // Encode URLs if needed
      audios.forEach(a => {
        const s = a.querySelector('source');
        if (!s) return;
        const src = s.getAttribute('src') || '';
        const enc = encodeURI(src);
        if (src !== enc) { s.setAttribute('src', enc); try{ a.load(); }catch(e){} }
      });

      // Performance: initial no preload
      audios.forEach(a => a.preload = 'none');

      // Activate preload after first user interaction
      let activated = false;
      function activatePreloadOnce(){
        if (activated) return;
        activated = true;
        audios.forEach(a => a.preload = 'auto');
      }
      document.addEventListener('pointerdown', activatePreloadOnce, { once:true, capture:true });

      // Only one audio playing at a time
      let current = null;
      function pauseOthers(except){
        for (const a of audios){
          if (a !== except){
            a.pause();
            a.currentTime = 0;
          }
        }
      }

      // Stall protection (recovers from early playback stalls)
      function addStallProtection(a){
        let retried = false;
        const earlyWindowSec = 5;

        function tryRecover(){
          if (retried) return;
          retried = true;
          const wasMuted = a.muted;
          try{ a.load(); }catch(e){}
          a.muted = wasMuted;
          a.play().catch(()=>{});
        }

        a.addEventListener('stalled', () => { if (a.currentTime < earlyWindowSec) tryRecover(); });
        a.addEventListener('suspend', () => { if (a.currentTime < earlyWindowSec && a.networkState !== a.NETWORK_IDLE) tryRecover(); });
        a.addEventListener('error',   () => { if (a.currentTime < earlyWindowSec) tryRecover(); });

        let lastT = 0, stuckCnt = 0;
        a.addEventListener('timeupdate', () => {
          if (a.currentTime === lastT) {
            stuckCnt++;
            if (stuckCnt >= 3 && a.currentTime < earlyWindowSec) tryRecover();
          } else {
            stuckCnt = 0;
            lastT = a.currentTime;
          }
        });
      }

      // Apply stall protection and event listeners
      audios.forEach(a => {
        addStallProtection(a);
        
        a.addEventListener('play', () => { 
          if (current !== a) { 
            pauseOthers(a); 
            current = a; 
          } 
        });
        
        a.addEventListener('ended', () => { 
          if (current === a) current = null; 
        });
      });
    })();

    // Paradox Effects
    (function(){
      const paradoxTrack = document.getElementById('track-paradox');
      const paradoxAudio = document.getElementById('paradox-audio');
      const bookFloat = document.getElementById('bookFloat');
      const body = document.body;
      let logoClickCount = 0;

      console.log('Paradox elements:', {
        track: !!paradoxTrack,
        audio: !!paradoxAudio,
        book: !!bookFloat
      });

      // Logo click paradox mode
      const logo = document.querySelector('.brand');
      if (logo) {
        logo.addEventListener('click', function(e) {
          logoClickCount++;
          console.log('Logo clicked:', logoClickCount);
          if (logoClickCount >= 5) {
            body.classList.toggle('paradox-mode');
            logoClickCount = 0;
            console.log('PARADOX MODE:', body.classList.contains('paradox-mode'));
          }
        });
      }

      // Track 5 audio effects
      if (paradoxAudio) {
        paradoxAudio.addEventListener('playing', function() {
          console.log('Track 5 playing - activating effects');
          body.classList.add('paradox-active');
          
          setTimeout(function() {
            if (paradoxTrack) {
              paradoxTrack.style.transform = 'scale(1.02)';
            }
          }, 500);
        });

        paradoxAudio.addEventListener('pause', function() {
          console.log('Track 5 paused');
          body.classList.remove('paradox-active');
          if (paradoxTrack) {
            paradoxTrack.style.transform = 'scale(1)';
          }
        });

        paradoxAudio.addEventListener('ended', function() {
          console.log('Track 5 ended');
          body.classList.remove('paradox-active');
          if (paradoxTrack) {
            paradoxTrack.style.transform = 'scale(1)';
          }
        });
      }

      // Book click to Amazon
      if (bookFloat) {
        bookFloat.addEventListener('click', function() {
          console.log('Book clicked - opening Amazon');
          window.open('https://www.amazon.com/-/es/PARADOXE-ILUSIONADA-ENGA%C3%91OS-DESAF%C3%8DAN-CEREBRO/dp/B0FF4X4KQQ', '_blank', 'noopener');
          
          bookFloat.style.transform = 'translateY(-50%) scale(1.1)';
          setTimeout(function() {
            bookFloat.style.transform = 'translateY(-50%) scale(1)';
          }, 200);
        });
      }
    })();
  </script>
<script>
    (function () {
      const cover   = document.querySelector('.album-detail .left-col .cover');
      const metaRow = document.getElementById('meta-row');
      const genreEl = document.getElementById('genre-pill');
      if (!cover || !metaRow || !genreEl) return;

      const srcAttr = cover.getAttribute('src') || '';
      const file    = srcAttr.split('/').pop().split('?')[0].split('#')[0];
      const testURL = 'assets/explizit/' + file + '?v=' + Date.now();

      function insertExplicit() {
        if (metaRow.querySelector('.pill.explicit')) return;
        const pill = document.createElement('span');
        pill.className = 'pill explicit';
        pill.textContent = 'EXPLÍCITO';
        metaRow.insertBefore(pill, genreEl);
      }

      const probe = new Image();
      probe.onload  = () => (probe.naturalWidth > 0 ? insertExplicit() : 0);
      probe.onerror = () => {};
      probe.src = testURL;
    })();
  </script>
<!-- Fallback Script for Track 5 Audio -->
<script>
    (function(){
      const paradoxAudio = document.getElementById('paradox-audio');
      if (!paradoxAudio) return;

      const candidates = [
        "assets/mp3_hörprobe/EL LABERINTO DE LOS SUEÑOS/05_-_PARADOXE_LA_MENTE_ILUSIONADA_Preview.mp3",
        "assets/mp3_hörprobe/EL%20LABERINTO%20DE%20LOS%20SUEÑOS/05_-_PARADOXE_LA_MENTE_ILUSIONADA_Preview.mp3",
        "assets/mp3_hörprobe/EL LABERINTO DE LOS SUEÑOS/05_-_PARADOXE_Preview.mp3",
        "assets/mp3_hörprobe/EL LABERINTO DE LOS SUEÑOS/06_-_EL_VIENTO_DE_LOS_HUESOS_Preview.mp3"
      ];

      (async () => {
        for (const url of candidates) {
          try {
            const res = await fetch(url, { method: "HEAD", cache: "no-store" });
            if (res.ok) { 
              paradoxAudio.src = url; 
              console.log('Found working audio file:', url);
              return; 
            }
          } catch(e) {}
        }
        console.warn('PARADOXE: No MP3 file found - check if file exists in deployment.');
      })();
    })();
  </script>
<script>
document.addEventListener('DOMContentLoaded', function(){
  var img = document.querySelector('.album-detail .left-col .cover');
  if(!img) return;
  if(img.complete && img.naturalWidth>0) return;
  var cands = ['assets/covers/album-el-%20-laberinto-de-los-sue%C3%B1os-cover.jpg', 'assets/covers/album-el-%20-laberinto-de-los-sue%C3%B1os-cover.jpg', 'assets/covers/album-el-%20-laberinto-de-los-suenos-cover.jpg', 'assets/covers/album-el-laberinto-de-los-sue%C3%B1os-cover.jpg', 'assets/covers/album-el-laberinto-de-los-suenos-cover.jpg'];
  function tryNext(i){
    if(i>=cands.length) return;
    var test = new Image();
    test.onload = function(){ img.src = cands[i]; };
    test.onerror = function(){ tryNext(i+1); };
    test.src = cands[i];
  }
  tryNext(0);
});
</script>

<script>window.TRACK_COVER_DIR="https://pub-00345912548b4ae4ac0e4c0047e289f0.r2.dev/covers_tracks/08_el%20_laberinto_de_los_sue%C3%B1os/";</script>

<script>
(function(){
  const coverImg=document.querySelector('.album-detail .left-col .cover');
/* Robust main cover restoration (added) */
const MAIN_COVER_CANDIDATES = [
  "assets/covers/album-el-laberinto-de-los-sueños-cover.jpg",
  "assets/covers/album-el-laberinto-de-los-sue%C3%B1os-cover.jpg",
  "assets/covers/album-el-%20-laberinto-de-los-sue%C3%B1os-cover.jpg",
  "assets/covers/album-el-laberinto-de-los-suenos-cover.jpg"
];
let ORIGINAL_MAIN_COVER = coverImg.getAttribute('src') || MAIN_COVER_CANDIDATES[0];

function preloadOne(src){
  return new Promise((resolve)=>{
    const img = new Image();
    img.onload = ()=>resolve({ok:true,src});
    img.onerror = ()=>resolve({ok:false,src});
    img.src = src;
  });
}

async function restoreMainCover(){
  // try original src first (with cache-buster), then candidates
  const bust = (s)=> s + (s.includes("?") ? "&" : "?") + "v=" + Date.now();
  const tries = [ORIGINAL_MAIN_COVER, ...MAIN_COVER_CANDIDATES].map(bust);
  coverImg.classList.add("is-swapping");
  for(const t of tries){
    const r = await preloadOne(t);
    if(r.ok){
      coverImg.src = r.src;
      coverImg.classList.remove("is-swapping");
      return;
    }
  }
  // hard fallback
  coverImg.src = ORIGINAL_MAIN_COVER;
  coverImg.classList.remove("is-swapping");
}

  const trackItems=Array.from(document.querySelectorAll('#tracklist li.track, .tracklist li'));
  if(!coverImg||!trackItems.length)return;
  const albumCoverSrc=coverImg.getAttribute('src')||'';
  const baseDir=(window.TRACK_COVER_DIR||'assets/covers_tracks/01_animal/');
  function swapCover(newSrc){
    if(!newSrc)return;
    const test=new Image();
    test.onload=()=>{
      coverImg.classList.add('is-swapping');
      setTimeout(()=>{
        coverImg.src=newSrc+(newSrc.includes('?')?'&':'?')+'v='+Date.now();
        coverImg.onload=()=>coverImg.classList.remove('is-swapping');
      },120);
    };
    test.onerror=()=>{};
    test.src=newSrc+(newSrc.includes('?')?'&':'?')+'v='+Date.now();
  }
  function candidatesByIndex(idx){
    const nn=('0'+idx).slice(-2);
    return [baseDir+nn+'.jpg', baseDir+nn+'.png', baseDir+nn+'.webp'];
  }
  const audios=Array.from(document.querySelectorAll('li.track audio, .tracklist li audio'));
  
function restoreIfNonePlaying(){
  // If no audio is currently playing, switch back to MAIN cover (preloaded)
  const anyPlaying = Array.from(document.querySelectorAll('.album-detail audio')).some(a=>!a.paused && !a.ended);
  if(!anyPlaying){
    restoreMainCover();
  }
}

  audios.forEach((audio,i)=>{
    const idx=i+1;
    audio.addEventListener('playing', () => {
      const cands=candidatesByIndex(idx);
      let j=0;(function next(){
        if(j>=cands.length) return;
        const url=cands[j]+'?v='+Date.now();
        const probe=new Image();
        probe.onload=()=>swapCover(cands[j]);
        probe.onerror=()=>{ j++; next(); };
        probe.src=url;
      })();
    });
    audio.addEventListener('pause',restoreIfNonePlaying);
    audio.addEventListener('ended',restoreIfNonePlaying);
  });
})();
</script>
<style>
.album-detail .left-col .cover{transition:opacity .25s ease;}
.album-detail .left-col .cover.is-swapping{opacity:0;}
</style>



<style>
.album-detail .left-col .cover{transition:opacity .25s ease;}
.album-detail .left-col .cover.is-swapping{opacity:0;}
</style>



</body>
</html>







